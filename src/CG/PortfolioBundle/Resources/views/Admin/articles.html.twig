{% extends "CGPortfolioBundle::layout.html.twig" %}

{% block title %}
    {{ parent() }} - Administration - Articles
{% endblock %}

{% block body %}
    <a href="{{ path('cg_portfolio_admin') }}"><button type="button" class="btn btn-default">Retour</button></a>
    <a href="{{ path('cg_portfolio_admin_article_add') }}"><button type="button" class="btn btn-primary">Ajouter</button></a>
    <h1>Articles</h1>
    <table class="table table-hover table-bordered">
        <tr>
            <th>Logo</th>
            <th>Titre</th>
            <th>Date création</th>
            <th>Date mise à jour</th>
            <th>Mots clés</th>
            <th colspan="3">Action</th>
        <tr>
        {% for article in articles %}
        <tr>
            <td><img width="auto" height="50px" src="{{ article.logo }}"></img></td>
            <td>{{ article.titre }}</td>
            <td>{{ article.dateCreation|localizeddate('none', 'none', 'fr', null, 'd MMMM Y') }}</td>
            <td>{{ article.dateMaj|localizeddate('none', 'none', 'fr', null, 'd MMMM Y') }}</td>
            <td>
                {% for keyword in article.keywords %}
                    #{{keyword.name}}
                {% endfor %}
            </td>
            <td><a href="{{ path('cg_portfolio_admin_article_edit', {'id': article.id }) }}"><button type="button" class="btn btn-primary">Editer</button></a></td>
            <td><a href="{{ path('cg_portfolio_admin_article_delete', {'id': article.id }) }}"><button type="button" class="btn btn-danger">Supprimer</button></a></td>
            <td><a href="{{ path('cg_portfolio_article_show', {'slug': article.slug }) }}"><button type="button" class="btn btn-success">Voir</button></a></td>
        </tr>
        {% endfor %}
    </table>
{% endblock %}
